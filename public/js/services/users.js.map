{"version":3,"sources":["user-service.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"users.js","sourcesContent":["'use strict';\n\nangular.module('CmasR')\n    .factory('userService',['$http','localStorageService',\n        function($http,localStorageService)\n    {\n        function isLoggedIn()\n        {\n            if(localStorageService.get('token'))\n                return true;\n            else\n                return false;\n        }\n\n        function signUp(name,email,password,picture,level,onSuccess,onError)\n        {\n            $http.post('/api/auth/signup',\n                {\n                    name: name,\n                    email: email,\n                    password: password,\n                    picture: picture,\n                    level: level\n                })\n                .then(function(response)\n                {\n                    localStorageService.set('token',response.data.token);\n                    onSuccess(response);\n                },function(response)\n                {\n                    onError(response);\n                });\n        }\n\n        function login(email,password,onSuccess,onError)\n        {\n            $http.post('/api/auth/login',\n                {\n                    email: email,\n                    password: password\n                })\n                .then(function(response)\n                {\n                    localStorageService.set('token',response.data.token);\n                    onSuccess(response);\n                }, function(response)\n                {\n                    onError(response);\n                });\n        }\n\n        function logout()\n        {\n            localStorageService.remove('token');\n        }\n\n        function getCurrentToken()\n        {\n            return localStorageService.get('token');\n        }\n\n        return{\n            isLoggedIn: isLoggedIn,\n            signUp: signUp,\n            login:login,\n            logout: logout,\n            getCurrentToken: getCurrentToken\n        }\n\n\n    }]);"],"sourceRoot":"/source/"}